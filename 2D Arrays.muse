* Two-dimensional arrays (matrices)

Arrays are perfect for representing a collection of values that can be
thought of as a single dimension of data. But for two-dimensional
data, we cannot just create many different one-dimensional arrays. A
two-dimensional (or higher-dimensional) data set *can* be finagled into
a one-dimensional array (with clever trickery using array indices) but
this is inconvenient. In order to conveniently represent 2D data, we
will use 2D arrays, also known as matrices.

What kinds of data are found in matrices? Pictures are 2D grids of
pixels, and thus are represented as matrices. Spreadsheets (like those
made in Microsoft Excel) are matrices. As alluded to in class, generic
"graph" structures can be represented in matrices (in what are called
"adjacent matrices"). Temperature readings at every hour over several
days could be saved in a matrix.

* Creating a 2D array

Here is the basic technique for creating a 2D array. In this example,
the matrix is 10 rows by 10 columns. All of its "cells" are set to
0.0.

<src lang="c++">
double arr[10][10];
for(int i = 0; i < 10; i++)
{
    for(int j = 0; j < 10; j++)
    {
        arr[i][j] = 0.0;
    }
}
</src>

For smaller matrices, the values can be set individually:

<src lang="c++">
double xyz[3][2] = {{0.0, 1.0}, {5.0, 6.0}, {11.0, 12.0}};
</src>

* Reading a matrix of data from a file

Two-dimensional data in a file must be read one row at a time. The
file also must contain two values at the beginning: first an integer
representing how many rows are in the file, and second an integer
representing how many columns are in each row (each row must have the
same number of columns).

Here is an input file:

<example>
7 4
1	2	3	4
2	4	4	5
4	6	6	9
6	2	8	2
7	6	1	6
4	9	3	3
3	2	3	8
</example>

Here is code that will read the input file, then report the sum for
each column:

<src lang="c++">
#include <iostream>
#include <fstream>
using namespace std;

int main()
{
    string filename;
    ifstream file;
    cout << "Enter file name: ";
    getline(cin, filename);

    file.open(filename.c_str());
    if(!file.is_open())
    {
        cout << "Error opening file." << endl;
        return -1;
    }

    int numRows, numCols;
    file >> numRows >> numCols;

    int arr[numRows][numCols];

    // read each value into the array
    for(int i = 0; i < numRows; i++)
    {
        for(int j = 0; j < numCols; j++)
        {
            file >> arr[i][j];
        }
    }

    file.close();

    // find the sum for each column;
    // note that we can look through the array
    // in any order; we will look at columns first
    int sum;
    for(int j = 0; j < numCols; j++)
    {
        sum = 0;
        for(int i = 0; i < numRows; i++)
        {
            sum += arr[i][j];
        }
        cout << "Sum for column " << j << " = " << sum << endl;
    }

    return 0;
}
</src>

Here is the output:

<example>
Enter file name: matrix-1.txt
Sum for column 0 = 27
Sum for column 1 = 31
Sum for column 2 = 28
Sum for column 3 = 37
</example>

* Passing 2D arrays to functions

Unfortunately, passing 2D arrays to functions does not work as you
might hope. This is not a valid function header:

<src lang="c++">
int sumAllColumns(int arr[][], int rows, int cols)  // NOT CORRECT!!
{
    // ...
}
</src>

In order to pass a 2D array to a function, the number of columns must
be known:

<src lang="c++">
int sumAllColumns(int arr[][10], int rows) // CORRECT
{
    // ...
}
</src>

Of course, the 10 above (referring to the number of columns) may be
different in a different program. The basic idea is that if the array
is created with a size (rows and columns) not known until the file is
read (the file specifies the size), then the array cannot be passed to
a function.

* A matrix in a one-dimensional array

Above, it was mentioned that with some "clever trickery" with array
indices, a 2D array could be stored in a 1D array. We will investigate
in this section.

Since a matrix is just a grid with some fixed number of rows and
columns, we can "linearize" the grid by just joining each row
end-to-end. In a 10x10 matrix, there are 100 cells. So we can make a
1D array with 100 cells and use indices appropriately to access
individual elements as if they were in a 10x10 grid.

The math is as follows. Assume our matrix has <math>r</math> rows and
<math>c</math> columns. If an element was a row <math>i</math> and
column <math>j</math> in the original matrix, then in the 1D array the
element is at index <math>i*c+j</math>.

Here is the same program as above, but that uses a 1D array. (The
input file is also the same as above.)

<src lang="c++">
#include <iostream>
#include <fstream>
using namespace std;

int main()
{
    string filename;
    ifstream file;
    cout << "Enter file name: ";
    getline(cin, filename);

    file.open(filename.c_str());
    if(!file.is_open())
    {
        cout << "Error opening file." << endl;
        return -1;
    }

    int numRows, numCols;
    file >> numRows >> numCols;

    int arr[numRows * numCols];

    // read each value into the array
    for(int i = 0; i < numRows; i++)
    {
        for(int j = 0; j < numCols; j++)
        {
            file >> arr[i * numCols + j];
        }
    }

    file.close();

    // find the sum for each column;
    // note that we can look through the array
    // in any order; we will look at columns first
    int sum;
    for(int j = 0; j < numCols; j++)
    {
        sum = 0;
        for(int i = 0; i < numRows; i++)
        {
            sum += arr[i * numCols + j];
        }
        cout << "Sum for column " << j << " = " << sum << endl;
    }

    return 0;
}
</src>

The output is the same as above. (The programs are identical.)

Since this new approach, representing 2D matrices as 1D arrays, uses
plain ol' arrays, we can pass these plain ol' 1D arrays to functions,
just like before:

<src lang="c++">
int sumAllColumns(int arr[], int rows, int cols) // CORRECT
{
    // ...
}
</src>

* Readings (not required)

  - Textbook (Etter & Ingber): pp 283-292

  - cplusplus.com: [[http://www.cplusplus.com/doc/tutorial/arrays/][Arrays]] (second half)

  - learncpp.com: [[http://www.learncpp.com/cpp-tutorial/65-multidimensional-arrays/][Multidimensional arrays]]

  - Teach yourself C++ in 21 days: [[http://newdata.box.sk/bx/c/htm/ch11.htm][Arrays]] (first half)

  - Learning C++: (none)

  - Videos: [[http://xoax.net/comp/cpp/console/Lesson28.php][Multidimensional arrays]]

